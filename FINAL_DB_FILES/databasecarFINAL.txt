
CREATE DATABASE IF NOT EXISTS `ford dealership` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;
USE `ford dealership`;

-- Table structure for table `car`

CREATE TABLE `car` (
  `Car_ID` int NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `Serial_Num` char(35) NOT NULL,
  `Model` char(20) NOT NULL,
  `Vehicle_Type` char(20) NOT NULL,
  `Fuel_Type` char(8) NOT NULL,
  `Brake_Horse_Power` char(4) NOT NULL,
  `Colour` char(15) NOT NULL,
  `Release_Year` char(15) NOT NULL,
  `Car_for_Sale` char(1) NOT NULL,
  `Price` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `car` (`Car_ID`, `Serial_Num`, `Model`, `Vehicle_Type`, `Fuel_Type`, `Brake_Horse_Power`, `Colour`, `Release_Year`, `Car_for_Sale`, `Price`) VALUES
('1', 'WAUZZZF49HAO36784', 'Mustang', 'GT', 'Petrol', '310', 'Black', '2017', 'Y', 80000),
('2', 'WAUZZZF46HAO36784', 'Mustang', 'GT', 'Petrol', '310', 'Yellow', '2017', 'Y', 80000),
('3', 'WAUZZZF42HAO36784', 'Mustang', 'GT', 'Petrol', '310', 'Pink', '2017', 'Y', 80000);

CREATE TABLE `customer` (

  `Customer_ID` int NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `Customer_FName` char(35) NOT NULL,
  `Customer_LName` char(35) NOT NULL,
  `Customer_SEX` char(1) DEFAULT NULL,
  `Customer_DOB` date NOT NULL,
  `Customer_Contact_Num` int(35) NOT NULL,
  `Customer_Address` char(30) NOT NULL,
  `Customer_Postcode` char(5) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- reviews username and subject and body
CREATE TABLE `reviews`(
 `review_id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,
 `Subject` char(3)  NOT NULL,
 `Body` char(3) NOT NULL,
 `Customer_ID` int NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- register
CREATE TABLE `register`(
  `register_ID` int NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `Email` char(40)  NOT NULL,
  `password` char(99) NOT NULL,
  `Customer_ID` int NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `ford_dealers_staff` (
  `Staff_ID` int NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `Staff_FName` char(35) NOT NULL,
  `Staff_LName` char(35) NOT NULL,
  `Staff_Contact_Num` int(35) NOT NULL,
  `Staff_Address` char(30) NOT NULL,
  `Staff_Postcode` char(5) NOT NULL,
  `Staff_Position` char(20) DEFAULT NULL,
  `Staff_SEX` char(1) DEFAULT NULL,
  `Staff_DOB` date NOT NULL,
  `Staff_Salary` decimal(10,2) UNSIGNED DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Table structure for table `sales_invoice`
CREATE TABLE `sales_invoice` (
  `Invoice_ID` int NOT NULL AUTO_INCREMENT PRIMARY KEY,
  `Invoice_Num` char(20) NOT NULL,
  `Date` date NOT NULL,
  `Car_ID` int DEFAULT NULL,
  `Customer_ID` int DEFAULT NULL,
  `Staff_ID` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Indexes for table `sales_invoice`

ALTER TABLE `sales_invoice`
  ADD KEY `FK1_Car_SalesInvoice` (`Car_ID`),
  ADD KEY `FK2_Customer_SalesInvoice` (`Customer_ID`),
  ADD KEY `FK3_FordDealersStaff_SalesInvoice` (`Staff_ID`),
  ADD CONSTRAINT `FK1_Car_SalesInvoice` FOREIGN KEY (`Car_ID`) REFERENCES `car` (`Car_ID`),
  ADD CONSTRAINT `FK2_Customer_SalesInvoice` FOREIGN KEY (`Customer_ID`) REFERENCES `customer` (`Customer_ID`),
  ADD CONSTRAINT `FK3_FordDealersStaff_SalesInvoice` FOREIGN KEY (`Staff_ID`) REFERENCES `ford_dealers_staff` (`Staff_ID`);

ALTER TABLE `reviews`
  ADD KEY `FK1_Customer_reviews` (`Customer_ID`),
  ADD CONSTRAINT `FK1_Customer_reviews` FOREIGN KEY (`Customer_ID`) REFERENCES `Customer` (`Customer_ID`);

ALTER TABLE `register`
  ADD KEY `FK1_Customer_register` (`Customer_ID`),
  ADD CONSTRAINT `FK1_Customer_register` FOREIGN KEY (`Customer_ID`) REFERENCES `Customer` (`Customer_ID`);

